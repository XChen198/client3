import{E as M}from"./BO-BUzP0.js";import{E as C,a as V,b as z}from"./azSKnpvj.js";import{E,a as B}from"./z0lRkXp0.js";import{f as I,g as S,r as A,h as H,i as f,w as a,o as h,b as t,a as e,t as L,j as b,k as D,_ as N,p as j,e as q}from"./CsIamsOv.js";import"./RrxjGB37.js";import{u as U}from"./BTDj4EH4.js";import{c as R,l as P}from"./Bd0GBrjl.js";import{g as F}from"./mO1Piuff.js";import{_ as G}from"./DlAUqK2U.js";import"./r5W6hzzQ.js";const l=u=>(j("data-v-5829df0c"),u=u(),q(),u),J=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})],-1)),K=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})],-1)),O=l(()=>e("span",null," 返回首页 ",-1)),Q=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),e("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})],-1)),T=l(()=>e("span",null," 发布帖子 ",-1)),W=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),e("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})],-1)),X=l(()=>e("span",null," 查看已发布的帖子 ",-1)),Y=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})],-1)),Z=l(()=>e("span",null," 我的信息 ",-1)),$=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0"})],-1)),k=l(()=>e("span",null," 我的头像 ",-1)),y=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),e("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})],-1)),e0=l(()=>e("span",null," 管理员 ",-1)),a0=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[e("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),e("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})],-1)),t0=l(()=>e("span",null," 退出登录 ",-1)),o0=I({__name:"index",setup(u){const c=U(),s=S(),d=A(!1);H(async()=>{let o;if(o=await F(),o){const r=await o.json();r.code===0?c.setUserInfo(r.data):s.push("/login")}else console.log("Error fetching user info");o=await R(),o&&(await o.json()).code===0?d.value=!0:console.log("Error fetching admin info")});const m=o=>{var r;o==="1-0"?s.push("/"):o==="1-1"?s.push("/account/publish"):o==="1-2"?s.push("/account/published"):o==="1-3"?s.push("/account/info"):o==="1-4"?s.push("/account/avatar"):o==="1-5"?s.push("/account/admin"):o==="1-6"&&((r=P())==null||r.then(()=>{s.push("/login")}))};return(o,r)=>{const n=M,i=C,v=V,w=z,_=B,g=N,x=E;return h(),f(x,null,{default:a(()=>[t(_,{xs:24,sm:24,md:6,lg:6,xl:6},{default:a(()=>[t(w,{"default-active":"1-1",class:"el-menu-vertical-demo",onSelect:m,"default-openeds":["1"]},{default:a(()=>[t(v,{index:"1"},{title:a(()=>{var p;return[t(n,null,{default:a(()=>[J]),_:1}),e("span",null,"用户名:"+L((p=b(c).userInfo)==null?void 0:p.username),1)]}),default:a(()=>[t(i,{index:"1-0"},{default:a(()=>[t(n,null,{default:a(()=>[K]),_:1}),O]),_:1}),t(i,{index:"1-1"},{default:a(()=>[t(n,null,{default:a(()=>[Q]),_:1}),T]),_:1}),t(i,{index:"1-2"},{default:a(()=>[t(n,null,{default:a(()=>[W]),_:1}),X]),_:1}),t(i,{index:"1-3"},{default:a(()=>[t(n,null,{default:a(()=>[Y]),_:1}),Z]),_:1}),t(i,{index:"1-4"},{default:a(()=>[t(n,null,{default:a(()=>[$]),_:1}),k]),_:1}),d.value?(h(),f(i,{key:0,index:"1-5"},{default:a(()=>[t(n,null,{default:a(()=>[y]),_:1}),e0]),_:1})):D("",!0),t(i,{index:"1-6"},{default:a(()=>[t(n,null,{default:a(()=>[a0]),_:1}),t0]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:18,lg:18,xl:18},{default:a(()=>[e("main",null,[t(g)])]),_:1})]),_:1})}}}),f0=G(o0,[["__scopeId","data-v-5829df0c"]]);export{f0 as default};
