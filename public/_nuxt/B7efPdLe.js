import{E as y}from"./DjFJZaCT.js";import{E,a as V}from"./Dkidm5em.js";import{E as F}from"./DG4vFwbg.js";import{_ as h}from"./BNo7q0CF.js";import"./BO-BUzP0.js";import{E as _}from"./Dtsb2UZl.js";import{f as v,g as I,r as k,J as c,c as B,b as e,w as a,N,o as S,d as m,a as p,p as C,e as R}from"./CsIamsOv.js";import{a as q}from"./Bd0GBrjl.js";import{_ as U}from"./DlAUqK2U.js";import"./DsaM66V6.js";import"./r5W6hzzQ.js";const j=n=>(C("data-v-a913ef0d"),n=n(),R(),n),D=j(()=>p("h1",null,"登录",-1)),H={class:"goHome"},J={class:"goSignup"},M=v({__name:"index",setup(n){const f=I(),d=k(),s=c({username:"",password:""}),g=c({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),w=u=>{u&&u.validate(async o=>{if(o){const r=await q(s.username,s.password),t=r?await r.json():null;t.code===0?(_({message:t.message,type:"success"}),f.push("/")):_({message:t.message,type:"error"})}else return console.log("error submit!!"),!1})};return(u,o)=>{const r=y,t=V,x=F,i=h,b=E;return S(),B(N,null,[D,e(b,{ref_key:"ruleFormRef",ref:d,model:s,rules:g,style:{"max-width":"600px",margin:"0 auto"},"label-width":"auto"},{default:a(()=>[e(t,{label:"用户名",prop:"username"},{default:a(()=>[e(r,{modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=l=>s.username=l)},null,8,["modelValue"])]),_:1}),e(t,{label:"密码",prop:"password"},{default:a(()=>[e(r,{type:"password",modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=l=>s.password=l)},null,8,["modelValue"])]),_:1}),e(t,null,{default:a(()=>[e(x,{type:"primary",onClick:o[2]||(o[2]=l=>w(d.value)),style:{width:"100%"}},{default:a(()=>[m("登录")]),_:1})]),_:1}),p("span",H,[e(i,{to:"/"},{default:a(()=>[m("返回首页")]),_:1})]),p("span",J,[m("没有账号? "),e(i,{to:"/signup"},{default:a(()=>[m("去注册")]),_:1})])]),_:1},8,["model","rules"])],64)}}}),X=U(M,[["__scopeId","data-v-a913ef0d"]]);export{X as default};
